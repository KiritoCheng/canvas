<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #canvas {
            border: 1px solid #aaaaaa;
            display: block;
            margin: 50px auto;
        }
    </style>
</head>
<body>
<div id="canvas-warp">
    <canvas id="canvas">
        你的浏览器居然不支持Canvas！
    </canvas>
</div>
<script>
    var canvas = document.getElementById('canvas');

    canvas.width = 800;
    canvas.height = 600;

    var context = canvas.getContext("2d");


    var bx = 0, by = 0, speed = 10, aspeed = 1;
    function draw() {
        context.beginPath();
        context.fillStyle = "#aaa";
        context.fillRect(bx, by, 100, 100);
        context.stroke();
    }


    function moveR() {
        context.clearRect(bx, by, 100, 100);

        speed += aspeed;    //加速度
        if (bx + speed >= 700) {
            bx = 700;
        } else {
            bx += speed;
        }

        context.fillRect(bx, by, 100, 100);

    }

    function moveL() {
        context.clearRect(bx, by, 100, 100);

        speed += aspeed;
        if (bx - speed <= 0) {
            bx = 0;
        } else {
            bx -= speed;
        }

        context.fillRect(bx, by, 100, 100);
    }

    function moveU() {
        context.clearRect(bx, by, 100, 100);

        speed += aspeed;
        if (by - speed <= 0) {
            by = 0;
        } else {
            by -= speed;
        }

        context.fillRect(bx, by, 100, 100);
    }

    function moveD() {
        context.clearRect(bx, by, 100, 100);

        speed += aspeed;
        if (by + speed >= 500) {
            by = 500;
        } else {
            by += speed;
        }

        context.fillRect(bx, by, 100, 100);
    }


    document.onkeydown = function (event) {
        if (event.keyCode == 37) {
            moveL()
        }
        if (event.keyCode == 38) {
            moveU()
        }
        if (event.keyCode == 39) {
            moveR()
        }
        if (event.keyCode == 40) {
            moveD()
        }
    };
    document.onkeyup = function (event) {
        speed = 0;
    };

    draw()
</script>
</body>
</html>